<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="app"></div>


<script src="../lib/d3@3.5.16/d3.js"></script>
<script>
  /**
   * @description SimpleWidget is a function also an Object
   * it has private variables and private functions
   */
  function SimpleWidget(sepc) {
    var instance = {}           // private variable
    var headline, description;  // private variable

    // private function
    instance.render = function () {
      var div = d3.select('#app').append("div")

      div.append("h3").text(headline)

      div.attr("class", "box").attr("style", "color:" + sepc.color)
        .append("p").text(description)
      return instance;
    }

    instance.headline = function (h) {
      if (!arguments.length) h;
      headline = h;
      return instance;
    }

    instance.description = function (h) {
      if (!arguments.length) h;
      description = h;
      return instance;
    }
    return instance;
  }


  var widget = SimpleWidget({color: '#6495ed'}).headline("simple widget")
    .description("this is a simple widget")

  widget.render()

  console.log(widget.headline())
</script>

<h4>
    我们用函数式风格创建对象，并且该对象所有的方法都没有使用this，那么这个对象就是持久的，
    持久对象是许多功能行为的集合了
    <br>
    note: 如果一个object不包含外部的可见数据成员，并且这个object的方法没有使用this，那么这个objec就是持久的
</h4>

</body>
</html>